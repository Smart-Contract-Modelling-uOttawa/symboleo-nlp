Domain propMgmtDomain
  Owner isA Role;
  Manager isA Role;
  RentalProperty isAn Asset with address: String;
  Disburse isAn Event with from: Role, to: Role, amount: String;
  Reimburse isAn Event with from: Role, to: Role, amount: String;
  LegalProceedingsNecessary isAn Event with property: RentalProperty;
  HandleLegalProceedings isAn Event with agent: Role, property: RentalProperty;

endDomain

Contract PropMgmt( manager_id: String, owner_id: String, property_address: String, var_termination_disbursement: String, var_termination_reimbursement: String )

Declarations
  manager: Manager;
  owner: Owner;
  property: RentalProperty with address := "123 Main Street";
  evt_legal_proceedings: LegalProceedingsNecessary with property := property;
  evt_handle_legal_proceedings: HandleLegalProceedings with agent := manager, property := property;
  evt_disburse_termination: Disburse with from := manager, to := owner, amount := "any monies in the Manager's possession due";
  evt_reimburse_termination: Reimburse with from := owner, to := manager, amount := "any expenses incurred or approved prior to the date of termination";

Preconditions

Postconditions

Obligations
  ob_legal_proceedings: Obligation(manager, owner, Happens(evt_legal_proceedings), Happens(evt_handle_legal_proceedings));
  ob_disburse_termination: Obligation(manager, owner, Happens(Terminated(self)), WhappensBefore(evt_disburse_termination, Date.add(Terminated(self), 3, days)));
  ob_reimburse_termination: Obligation(owner, manager, true, WhappensBefore(evt_reimburse_termination, Date.add(Terminated(self), 10, days)));

Surviving Obligations

Powers

Constraints

endContract